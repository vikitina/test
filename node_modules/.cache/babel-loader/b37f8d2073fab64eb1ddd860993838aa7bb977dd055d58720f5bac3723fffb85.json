{"ast":null,"code":"import MoovieBall from \"./MoovieBall.vue\";\nexport default {\n  data() {\n    return {\n      xCoord: 0,\n      yCoord: 0,\n      width: 0,\n      height: 0\n    };\n  },\n  components: {\n    MoovieBall\n  },\n  methods: {\n    onClick(e) {\n      this.xCoord = this.getPreparedX(e);\n      this.yCoord = this.getPreparedY(e);\n      this.$emit(\"updateStatistic\", {\n        x: this.getStatisticX,\n        y: this.getStatisticY\n      });\n    },\n    getPreparedX(e) {\n      const clickCoordinateX = e.pageX - this.getLeftBound;\n      return e.pageX >= this.getLeftBound && e.pageX <= this.getRightBound ? clickCoordinateX : this.xCoord;\n    },\n    getPreparedY(e) {\n      const clickCoordinateY = e.pageY - this.getTopBound;\n      return e.pageY >= this.getTopBound && e.pageY <= this.getBottomBound ? clickCoordinateY : this.yCoord;\n    }\n  },\n  computed: {\n    getLeftBound() {\n      return this.$refs.gridElement.getBoundingClientRect().left;\n    },\n    getRightBound() {\n      return this.$refs.gridElement.getBoundingClientRect().right;\n    },\n    getTopBound() {\n      return this.$refs.gridElement.getBoundingClientRect().top;\n    },\n    getBottomBound() {\n      return this.$refs.gridElement.getBoundingClientRect().bottom;\n    },\n    getStatisticX() {\n      return this.xCoord - this.width * 0.5 >= 0 ? this.xCoord - this.width * 0.5 : -1 * (this.width * 0.5 - this.xCoord);\n    },\n    getStatisticY() {\n      return this.yCoord - this.height * 0.5 <= 0 ? this.height * 0.5 - this.yCoord : -1 * (this.yCoord - this.height * 0.5);\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const element = this.$refs.gridElement;\n      this.width = element.offsetWidth;\n      this.height = element.offsetHeight;\n      this.xCoord = this.width * 0.5;\n      this.yCoord = this.height * 0.5;\n      this.$emit(\"updateStatistic\", {\n        x: this.getStatisticX,\n        y: this.getStatisticY\n      });\n    });\n  }\n};","map":{"version":3,"names":["MoovieBall","data","xCoord","yCoord","width","height","components","methods","onClick","e","getPreparedX","getPreparedY","$emit","x","getStatisticX","y","getStatisticY","clickCoordinateX","pageX","getLeftBound","getRightBound","clickCoordinateY","pageY","getTopBound","getBottomBound","computed","$refs","gridElement","getBoundingClientRect","left","right","top","bottom","mounted","$nextTick","element","offsetWidth","offsetHeight"],"sources":["src/components/SpecialGrid.vue"],"sourcesContent":["<template lang=\"pug\">\n.special-grid(@click=\"onClick\", ref=\"gridElement\")\n  MoovieBall(:x=\"xCoord\", :y=\"yCoord\")\n</template>\n<script>\nimport MoovieBall from \"./MoovieBall.vue\";\nexport default {\n  data() {\n    return {\n      xCoord: 0,\n      yCoord: 0,\n      width: 0,\n      height: 0,\n    };\n  },\n  components: {\n    MoovieBall,\n  },\n  methods: {\n    onClick(e) {\n      this.xCoord = this.getPreparedX(e);\n      this.yCoord = this.getPreparedY(e);\n      this.$emit(\"updateStatistic\", {\n        x: this.getStatisticX,\n        y: this.getStatisticY,\n      });\n    },\n    getPreparedX(e) {\n      const clickCoordinateX = e.pageX - this.getLeftBound;\n      return e.pageX >= this.getLeftBound \n            && e.pageX <= this.getRightBound\n            ? clickCoordinateX\n            : this.xCoord;\n    },\n    getPreparedY(e) {\n      const clickCoordinateY = e.pageY - this.getTopBound;\n      return e.pageY >= this.getTopBound \n            && e.pageY <= this.getBottomBound\n            ? clickCoordinateY\n            : this.yCoord;\n    },\n  },\n\n  computed: {\n    getLeftBound() {\n      return this.$refs.gridElement.getBoundingClientRect().left;\n    },\n    getRightBound() {\n      return this.$refs.gridElement.getBoundingClientRect().right;\n    },\n    getTopBound() {\n      return this.$refs.gridElement.getBoundingClientRect().top;\n    },\n    getBottomBound() {\n      return this.$refs.gridElement.getBoundingClientRect().bottom;\n    },\n\n    getStatisticX() {\n      return this.xCoord - this.width * 0.5 >= 0\n        ? this.xCoord - this.width * 0.5\n        : -1 * (this.width * 0.5 - this.xCoord);\n    },\n    getStatisticY() {\n      return this.yCoord - this.height * 0.5 <= 0\n        ? this.height * 0.5 - this.yCoord\n        : -1 * (this.yCoord - this.height * 0.5);\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const element = this.$refs.gridElement;\n      this.width = element.offsetWidth;\n      this.height = element.offsetHeight;\n      this.xCoord = this.width * 0.5;\n      this.yCoord = this.height * 0.5;\n      this.$emit(\"updateStatistic\", {\n        x: this.getStatisticX,\n        y: this.getStatisticY,\n      });\n    });\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.special-grid {\n  width: 280px;\n  height: 280px;\n  border: 2px solid blue;\n  border-radius: 5px;\n  position: relative;\n\n  background-image: repeating-linear-gradient(#ccc 0 1px, transparent 1px 100%),\n    repeating-linear-gradient(90deg, #ccc 0 1px, transparent 1px 100%);\n  background-size: 70px 70px;\n  &::before {\n    content: \"\";\n    width: 6px;\n    height: 6px;\n    background: red;\n    border-radius: 50%;\n    display: block;\n    position: absolute;\n    top: calc(50% - 3px);\n    left: calc(50% - 3px);\n  }\n  &:hover {\n    box-shadow: 0 0 20px 2px blue;\n  }\n}\n</style>"],"mappings":"AAKA,OAAAA,UAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,MAAA;MACAC,KAAA;MACAC,MAAA;IACA;EACA;EACAC,UAAA;IACAN;EACA;EACAO,OAAA;IACAC,QAAAC,CAAA;MACA,KAAAP,MAAA,QAAAQ,YAAA,CAAAD,CAAA;MACA,KAAAN,MAAA,QAAAQ,YAAA,CAAAF,CAAA;MACA,KAAAG,KAAA;QACAC,CAAA,OAAAC,aAAA;QACAC,CAAA,OAAAC;MACA;IACA;IACAN,aAAAD,CAAA;MACA,MAAAQ,gBAAA,GAAAR,CAAA,CAAAS,KAAA,QAAAC,YAAA;MACA,OAAAV,CAAA,CAAAS,KAAA,SAAAC,YAAA,IACAV,CAAA,CAAAS,KAAA,SAAAE,aAAA,GACAH,gBAAA,GACA,KAAAf,MAAA;IACA;IACAS,aAAAF,CAAA;MACA,MAAAY,gBAAA,GAAAZ,CAAA,CAAAa,KAAA,QAAAC,WAAA;MACA,OAAAd,CAAA,CAAAa,KAAA,SAAAC,WAAA,IACAd,CAAA,CAAAa,KAAA,SAAAE,cAAA,GACAH,gBAAA,GACA,KAAAlB,MAAA;IACA;EACA;EAEAsB,QAAA;IACAN,aAAA;MACA,YAAAO,KAAA,CAAAC,WAAA,CAAAC,qBAAA,GAAAC,IAAA;IACA;IACAT,cAAA;MACA,YAAAM,KAAA,CAAAC,WAAA,CAAAC,qBAAA,GAAAE,KAAA;IACA;IACAP,YAAA;MACA,YAAAG,KAAA,CAAAC,WAAA,CAAAC,qBAAA,GAAAG,GAAA;IACA;IACAP,eAAA;MACA,YAAAE,KAAA,CAAAC,WAAA,CAAAC,qBAAA,GAAAI,MAAA;IACA;IAEAlB,cAAA;MACA,YAAAZ,MAAA,QAAAE,KAAA,cACA,KAAAF,MAAA,QAAAE,KAAA,SACA,WAAAA,KAAA,cAAAF,MAAA;IACA;IACAc,cAAA;MACA,YAAAb,MAAA,QAAAE,MAAA,cACA,KAAAA,MAAA,cAAAF,MAAA,GACA,WAAAA,MAAA,QAAAE,MAAA;IACA;EACA;EACA4B,QAAA;IACA,KAAAC,SAAA;MACA,MAAAC,OAAA,QAAAT,KAAA,CAAAC,WAAA;MACA,KAAAvB,KAAA,GAAA+B,OAAA,CAAAC,WAAA;MACA,KAAA/B,MAAA,GAAA8B,OAAA,CAAAE,YAAA;MACA,KAAAnC,MAAA,QAAAE,KAAA;MACA,KAAAD,MAAA,QAAAE,MAAA;MACA,KAAAO,KAAA;QACAC,CAAA,OAAAC,aAAA;QACAC,CAAA,OAAAC;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}